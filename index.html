
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Web test line notify</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   <link href="https://fonts.googleapis.com/css?family=Kanit" rel="stylesheet">
   <style>
          body { font-family: Kanit;}
   </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

<div class="jumbotron text-center"> 
<div class="container">
  <h1>ทดสอบส่งข้อความแจ้งเตือนไปยัง Application LINE</h1>
  <p>LINE notifications</p> 
<!--div class="form-group row"-->
  <div class="row">
  <div class="col-sm-6">
    <label for="ex2">Token</label>
    <input class="form-control" id="token" type="text"  placeholder="Token">
  </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <label for="comment">Messages:</label>
      <textarea class="form-control" rows="5" id="msg"></textarea>
      <label for="comment">คัดลอกข้อความด้านล่างหากต้องการส่งข้อความเป็นภาษาไทยและภาษาอื่นๆ</label>
      <textarea class="form-control" rows="5" id="msgURL"></textarea>
    </div>
    <div class="col-sm-6">
      <label for="comment">Responses:</label>
      <textarea class="form-control" rows="10" id="response"></textarea>
    </div>
  </div>
   <div class="col-xs-12">
   <label for="ex2">  </label><br>
    <label for="ex2">Press button send to application LINE</label><br>
    <button type="button" class="btn btn-success" onclick="sendLine()">Send</button>
  </div>

   <!--/div-->
   <div class="col-xs-12">
   	<!--p id="response"></p-->
   </div>
</div>
  
  <p>  </p> 
   
</div>
 <!--div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); 
  js.id = id;
  js.src = "//connect.facebook.net/th_TH/sdk.js#xfbml=1&version=v2.9&appId=1648930942080035";
  fjs.parentNode.insertBefore(js, fjs);
 // alert(js.id);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like" data-href="https://www.facebook.com/innovativeexperiment/" data-layout="button" data-action="like" data-size="large" data-show-faces="true" data-share="true"></div-->

<!--iframe src="https://www.facebook.com/plugins/like.php?href=https://www.facebook.com/innovativeexperiment/&width=450&layout=standard&action=like&size=large&show_faces=true&share=true&height=80&appId=1648930942080035" width="450" height="80" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe-->

<!--div class="container">
  <div class="row"> https://developers.facebook.com/docs/plugins/
    <div class="col-sm-4">
      <h3>Column 1</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>

    </div>
    <div class="col-sm-4">
      <h3>Column 2</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
    <div class="col-sm-4">
      <h3>Column 3</h3>        
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
  </div>
</div-->

</body>
</html>
<script>

	function sendLine() {
	
	document.getElementById("response").innerHTML=null;
	var tokentest=document.getElementById("token").value;
	var message=document.getElementById("msg").value;
  var res = encodeURI(message);
  document.getElementById("msgURL").innerHTML = res;
	var xhr = new XMLHttpRequest();
	xhr.open("POST", './Line_Notify.php');

	//Send the proper header information along with the request
	xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	console.log("Token=>"+tokentest);
	console.log("Message=>"+message.length);
	xhr.onreadystatechange = function() {//Call a function when the state changes.
	    if(xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
	        // Request finished. Do processing here.
	         document.getElementById("response").innerHTML = this.responseText;
	    }
	}

	xhr.send("token="+tokentest+"&msg="+message); 
	}
</script>
